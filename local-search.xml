<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>javascript试题收录(三)</title>
    <link href="/2020/11/01/javascript-learn-test03/"/>
    <url>/2020/11/01/javascript-learn-test03/</url>
    
    <content type="html"><![CDATA[<p>如何更安全的获取链式对象属性。</p><a id="more"></a><h2 id="获取链式对象属性"><a href="#获取链式对象属性" class="headerlink" title="获取链式对象属性"></a>获取链式对象属性</h2><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">        <span class="hljs-comment">//一个 safeGet 函数，可以安全的获取无限多层次的数据，一旦数据不存在不会报错，会返回 undefined</span></span><span class="javascript">        <span class="hljs-comment">//一般情况下只有需要检测未知的情况下才会调用try...catch...，毕竟它会消耗性能</span></span><span class="javascript">        <span class="hljs-keyword">const</span> safeGet = <span class="hljs-function">(<span class="hljs-params">o, path</span>) =&gt;</span> &#123;</span><span class="javascript">            <span class="hljs-keyword">try</span> &#123;</span><span class="javascript">                <span class="hljs-keyword">return</span> path.split(<span class="hljs-string">&#x27;.&#x27;</span>).reduce(<span class="hljs-function">(<span class="hljs-params">o, k</span>) =&gt;</span> o[k], o)</span><span class="javascript">            &#125; <span class="hljs-keyword">catch</span> (e) &#123;</span><span class="javascript">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">void</span> <span class="hljs-number">666</span></span>            &#125;        &#125;<span class="javascript">        <span class="hljs-keyword">var</span> data = &#123; <span class="hljs-attr">a</span>: &#123; <span class="hljs-attr">b</span>: &#123; <span class="hljs-attr">c</span>: <span class="hljs-string">&#x27;ScriptOJ&#x27;</span> &#125; &#125; &#125;</span><span class="javascript">        <span class="hljs-built_in">console</span>.log(safeGet(data, <span class="hljs-string">&#x27;a.b.c.d.e.f.g&#x27;</span>), safeGet(data, <span class="hljs-string">&#x27;a.b.c&#x27;</span>))</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>]]></content>
    
    
    <categories>
      
      <category>javascript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>javascript</tag>
      
      <tag>javascript试题收录</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>javascript试题收录(二)</title>
    <link href="/2020/11/01/javascript-learn-test02/"/>
    <url>/2020/11/01/javascript-learn-test02/</url>
    
    <content type="html"><![CDATA[<p>settimeout 与 serInterval的区别。</p><a id="more"></a><h2 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h2><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">    <span class="hljs-keyword">let</span> timer1 = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> &#123;</span><span class="javascript">        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;serInterval&quot;</span>);</span>    &#125;, 1000);<span class="javascript">    <span class="hljs-keyword">let</span> timer2 = <span class="hljs-function">() =&gt;</span> &#123;</span><span class="javascript">        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;setTimeout&quot;</span>);</span><span class="javascript">        <span class="hljs-built_in">setTimeout</span>(timer2, <span class="hljs-number">1000</span>);</span>    &#125;<span class="javascript">    <span class="hljs-built_in">setTimeout</span>(timer2, <span class="hljs-number">1000</span>);</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre><p>setTimeout 和 serInterval 都是延迟执行，后面的时间是延迟加入执行队列的时间</p><p>serInterval 可能受网络波动等影响，后一个间歇调用可能在前一个间歇调用结束之前调用，一般很少调用setInterval</p><p>想要间歇性地调用某个方法，可以使用setTimeout，在执行结束后再调用自身</p>]]></content>
    
    
    <categories>
      
      <category>javascript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>javascript</tag>
      
      <tag>javascript试题收录</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>javascript试题收录(一)</title>
    <link href="/2020/11/01/javascript-learn-test01/"/>
    <url>/2020/11/01/javascript-learn-test01/</url>
    
    <content type="html"><![CDATA[<p>常见的JS排序方式。</p><a id="more"></a><h2 id="三种常见的排序方式"><a href="#三种常见的排序方式" class="headerlink" title="三种常见的排序方式"></a>三种常见的排序方式</h2><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;result1&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;result2&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;result3&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;result4&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;result5&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">        <span class="hljs-keyword">var</span> arr = [<span class="hljs-number">100</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">21</span>, <span class="hljs-number">3</span>, <span class="hljs-number">22</span>, <span class="hljs-number">20</span>, <span class="hljs-number">5</span>, <span class="hljs-number">11</span>, <span class="hljs-number">9</span>, <span class="hljs-number">77</span>, <span class="hljs-number">99</span>, <span class="hljs-number">100</span>];</span><span class="javascript">        <span class="hljs-comment">// var arr = [100, 1, 5, 11, 55, 2, 3, 55, 1, 88, 44, 177, 873, 12, 66, 88, 33, 124, 7, 21, 3, 22, 2, 33, 68, 60, 7, 0, 0, 88, 210, 336, 1000, 978, 90, 5, 11, 9, 77, 99, 100, 11, 55, 2, 3 , 55];</span></span><span class="javascript">        <span class="hljs-comment">//数据用随机算法去生成。为了方便看结果，这里是复制的。</span></span><span class="javascript">        <span class="hljs-keyword">var</span> arr1 = arr.sort();</span><span class="javascript">        <span class="hljs-keyword">var</span> arr2 = [...arr].sort(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> &#123; <span class="hljs-keyword">return</span> a-b; &#125;)</span><span class="javascript">        <span class="hljs-comment">//带着疑问：~这个排序算是选择排序吧？</span></span><span class="javascript">        <span class="hljs-comment">//选择排序</span></span><span class="javascript">        <span class="hljs-keyword">var</span> arr3 = [];</span><span class="javascript">        <span class="hljs-keyword">var</span> arr_list = [...arr];</span><span class="javascript">        <span class="hljs-built_in">console</span>.time(<span class="hljs-string">&quot;选择排序耗时&quot;</span>)</span><span class="javascript">        <span class="hljs-keyword">while</span> (arr_list.length &gt; <span class="hljs-number">0</span>) &#123;</span><span class="javascript">            <span class="hljs-keyword">let</span> min = arr_list[<span class="hljs-number">0</span>];</span><span class="javascript">            <span class="hljs-keyword">let</span> index = <span class="hljs-number">0</span>;</span>            if (arr_list.length == 1) &#123;<span class="javascript">                <span class="hljs-keyword">let</span> item=arr_list.splice(index, <span class="hljs-number">1</span>); </span>                arr3.push(item); <span class="javascript">                <span class="hljs-keyword">break</span>;</span>            &#125;<span class="javascript">            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; arr_list.length; i++) &#123;</span><span class="javascript">                <span class="hljs-keyword">let</span> child = arr_list[i]; </span>                if (child &lt; min) &#123;                     min = child; index = i;                 &#125;                if (i == arr_list.length - 1) &#123; <span class="javascript">                    <span class="hljs-keyword">let</span> item = arr_list.splice(index, <span class="hljs-number">1</span>); </span>                    arr3.push(item);                 &#125;             &#125;         &#125;<span class="javascript">        <span class="hljs-built_in">console</span>.timeEnd(<span class="hljs-string">&quot;选择排序耗时&quot;</span>)</span><span class="javascript">        <span class="hljs-comment">//快速排序</span></span><span class="javascript">        <span class="hljs-keyword">var</span> arr_list2 = [...arr];</span><span class="javascript">        <span class="hljs-keyword">var</span> arr4 = [];</span><span class="javascript">        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sort</span>(<span class="hljs-params">arr</span>) </span>&#123;</span>            if (arr.length &lt;= 1) &#123;<span class="javascript">                <span class="hljs-comment">//递归出口</span></span><span class="javascript">                <span class="hljs-keyword">return</span> arr;</span>            &#125;<span class="javascript">            <span class="hljs-keyword">let</span> middleIndex = <span class="hljs-built_in">Math</span>.floor(arr.length / <span class="hljs-number">2</span>);<span class="hljs-comment">//中间数的下标 分奇偶</span></span><span class="javascript">            <span class="hljs-keyword">let</span> middle = arr[middleIndex];</span><span class="javascript">            <span class="hljs-keyword">let</span> left = [];</span><span class="javascript">            <span class="hljs-keyword">let</span> right = [];</span><span class="javascript">            <span class="hljs-function"><span class="hljs-title">for</span>(<span class="hljs-params"><span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; arr.length; i++</span>)</span>&#123;</span><span class="javascript">                <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">arr[i] &lt; middle</span>)</span>&#123;</span>                    left.push(arr[i])                &#125;<span class="javascript">                <span class="hljs-keyword">else</span> <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">arr[i] &gt; middle</span>)</span>&#123;</span>                    right.push(arr[i])                &#125;<span class="javascript">                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (i != middleIndex)&#123;</span>other.push(arr[i])&#125;            &#125;<span class="javascript">            <span class="hljs-keyword">return</span> sort(left).concat([middle], other, sort(right))</span>        &#125;<span class="javascript">        <span class="hljs-built_in">console</span>.time(<span class="hljs-string">&quot;快速排序耗时&quot;</span>)</span>        arr4 = sort(arr_list2);<span class="javascript">        <span class="hljs-built_in">console</span>.timeEnd(<span class="hljs-string">&quot;快速排序耗时&quot;</span>)</span><span class="javascript">        <span class="hljs-comment">//冒泡排序</span></span><span class="javascript">        <span class="hljs-keyword">var</span> arr_list3 = [...arr];</span><span class="javascript">        <span class="hljs-keyword">var</span> arr5 = [];</span><span class="javascript">        <span class="hljs-built_in">console</span>.time(<span class="hljs-string">&quot;冒泡排序耗时&quot;</span>)</span><span class="javascript">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>, len = arr_list3.length; i &lt; len; i++) &#123;</span><span class="javascript">            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; len - <span class="hljs-number">1</span> - i; j++) &#123;  <span class="hljs-comment">//j &lt; len - 1 -i是因为每次外围循环后，会把最大的放到最后，就可以省下1次循环</span></span>                if (arr_list3[j] &gt; arr_list3[j + 1]) &#123;<span class="javascript">                    <span class="hljs-keyword">let</span> tmp = arr_list3[j + <span class="hljs-number">1</span>]</span>                    arr_list3[j + 1] = arr_list3[j];                    arr_list3[j] = tmp;                &#125;            &#125;        &#125;<span class="javascript">        <span class="hljs-built_in">console</span>.timeEnd(<span class="hljs-string">&quot;冒泡排序耗时&quot;</span>)</span>        arr5 = arr_list3;<span class="javascript">        <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;result1&quot;</span>).innerText = <span class="hljs-string">`默认排序：<span class="hljs-subst">$&#123;arr1&#125;</span>`</span>;</span><span class="javascript">        <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;result2&quot;</span>).innerText = <span class="hljs-string">`a-b排序：<span class="hljs-subst">$&#123;arr2&#125;</span>`</span>;</span><span class="javascript">        <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;result3&quot;</span>).innerText = <span class="hljs-string">`选择排序：<span class="hljs-subst">$&#123;arr3&#125;</span>`</span>;</span><span class="javascript">        <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;result4&quot;</span>).innerText = <span class="hljs-string">`快速排序：<span class="hljs-subst">$&#123;arr4&#125;</span>`</span>;</span><span class="javascript">        <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;result5&quot;</span>).innerText = <span class="hljs-string">`冒泡排序：<span class="hljs-subst">$&#123;arr5&#125;</span>`</span>;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></code></pre><p>个人总结：当数据量小的时候，冒泡排序>选择排序>快速排序；当数据量大的时候，快速排序>冒泡排序>选择排序。当数据量越大，快速排序的优势便更明显。如果不想改变数据的相对位置，则选择冒泡排序。</p>]]></content>
    
    
    <categories>
      
      <category>javascript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>javascript</tag>
      
      <tag>javascript试题收录</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>TypeScript笔记(三)</title>
    <link href="/2020/10/25/typescript-learn-note03/"/>
    <url>/2020/10/25/typescript-learn-note03/</url>
    
    <content type="html"><![CDATA[<p>字节流与utf-8编码字符串的转换</p><a id="more"></a><h2 id="章前知识"><a href="#章前知识" class="headerlink" title="章前知识"></a>章前知识</h2><p>1.在JavaScript中，所有的string类型（或者被称为DOMString）都是使用UTF-16编码的，至于为什么，度娘知道。<br>2.JS字符编码———— ASCII || Unicode || UTF-8</p><h2 id="简单介绍"><a href="#简单介绍" class="headerlink" title="简单介绍"></a>简单介绍</h2><p>1.ascii编码通常是用1个字节表示字符，使用7位二进制数表示（剩下的1位为0，即0xxxxxxx），通常用来表示26个英文字母的大小写、数字0-9、标点符号以及一些特殊字符。<br>2.Unicode编码通常用2个字节表示字符，一些较为偏僻的字符就需要用到4个字节。<br>3.UTF-8编码是Unicode的实现方式之一，通常用3个字节表示1个汉字（UTF-8中文编码范围：u4e00-u9fa5，0x3400-0x4DB5）。</p><p>还有一些字符编码如gbk之类的，需要用再查询研究了。</p><h2 id="UTF-8"><a href="#UTF-8" class="headerlink" title="UTF-8"></a>UTF-8</h2><p>如果只有一个字节则其最高二进制位为0；如果是多字节，其第一个字节从最高位开始，连续的二进制位值为1的个数决定了其编码的位数，其余各字节均以10开头。UTF-8最多可用到6个字节。 </p><p>-1字节：0xxxxxxx<br>-2字节：110xxxxx 10xxxxxx<br>-3字节：1110xxxx 10xxxxxx 10xxxxxx<br>-4字节：11110xxx 10xxxxxx 10xxxxxx 10xxxxxx<br>-5字节：111110xx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx<br>-6字节：1111110x 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx</p><h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><p>部分代码尚未读懂，后续待增加注释。</p><pre><code class="hljs angelscript">export <span class="hljs-keyword">class</span> <span class="hljs-symbol">StringCode</span>&#123;<span class="hljs-keyword">private</span> static inRange(a:number, min:number, max:number): <span class="hljs-built_in">bool</span>ean &#123;    <span class="hljs-keyword">return</span> min &lt;= a &amp;&amp; a &lt;= max;&#125;<span class="hljs-comment">/**  */</span><span class="hljs-keyword">private</span> static <span class="hljs-built_in">string</span>ToCodePoints(<span class="hljs-built_in">string</span>: <span class="hljs-built_in">string</span>): Array&lt;number&gt; &#123;let cps = [];let i = <span class="hljs-number">0</span>, n = <span class="hljs-built_in">string</span>.length;<span class="hljs-keyword">while</span> (i &lt; <span class="hljs-built_in">string</span>.length) &#123;let c = <span class="hljs-built_in">string</span>.charCodeAt(i);<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.inRange(c, <span class="hljs-number">0xD800</span>, <span class="hljs-number">0xDFFF</span>)) &#123;cps.push(c);&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.inRange(c, <span class="hljs-number">0xDC00</span>, <span class="hljs-number">0xDFFF</span>)) &#123;cps.push(<span class="hljs-number">0xFFFD</span>);&#125; <span class="hljs-keyword">else</span> &#123; <span class="hljs-comment">// (inRange(c, 0xD800, 0xDBFF))</span><span class="hljs-keyword">if</span> (i == n - <span class="hljs-number">1</span>) &#123;cps.push(<span class="hljs-number">0xFFFD</span>);&#125; <span class="hljs-keyword">else</span> &#123;let d = <span class="hljs-built_in">string</span>.charCodeAt(i + <span class="hljs-number">1</span>);<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.inRange(d, <span class="hljs-number">0xDC00</span>, <span class="hljs-number">0xDFFF</span>)) &#123;let a = c &amp; <span class="hljs-number">0x3FF</span>;let b = d &amp; <span class="hljs-number">0x3FF</span>;i += <span class="hljs-number">1</span>;cps.push(<span class="hljs-number">0x10000</span> + (a &lt;&lt; <span class="hljs-number">10</span>) + b);&#125; <span class="hljs-keyword">else</span> &#123;cps.push(<span class="hljs-number">0xFFFD</span>);&#125;&#125;&#125;i += <span class="hljs-number">1</span>;&#125;<span class="hljs-keyword">return</span> cps;&#125;<span class="hljs-comment">/**</span><span class="hljs-comment"> * u8intarray转utf-8</span><span class="hljs-comment"> * @param array Uint8Array字节流</span><span class="hljs-comment"> */</span><span class="hljs-keyword">public</span> static u8ArrayToUtf8Str(<span class="hljs-built_in">array</span>: Uint8Array): <span class="hljs-built_in">string</span> &#123;var <span class="hljs-keyword">out</span>, i, len, c;var char2, char3;<span class="hljs-keyword">out</span> = <span class="hljs-string">&quot;&quot;</span>;len = <span class="hljs-built_in">array</span>.length;i = <span class="hljs-number">0</span>;<span class="hljs-keyword">while</span> (i &lt; len) &#123;c = <span class="hljs-built_in">array</span>[i++];<span class="hljs-keyword">switch</span> (c &gt;&gt; <span class="hljs-number">4</span>) &#123;<span class="hljs-keyword">case</span> <span class="hljs-number">0</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">5</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<span class="hljs-comment">// 0xxxxxxx 1个字节</span><span class="hljs-keyword">out</span> += String.fromCharCode(c);<span class="hljs-keyword">break</span>;<span class="hljs-keyword">case</span> <span class="hljs-number">12</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">13</span>:<span class="hljs-comment">// 110xxxxx 10xxxxxx 2个字节</span>char2 = <span class="hljs-built_in">array</span>[i++];<span class="hljs-keyword">out</span> += String.fromCharCode(((c &amp; <span class="hljs-number">0x1F</span>) &lt;&lt; <span class="hljs-number">6</span>) | (char2 &amp; <span class="hljs-number">0x3F</span>));<span class="hljs-keyword">break</span>;<span class="hljs-keyword">case</span> <span class="hljs-number">14</span>:<span class="hljs-comment">// 1110xxxx 10xxxxxx 10xxxxxx 3个字节</span>char2 = <span class="hljs-built_in">array</span>[i++];char3 = <span class="hljs-built_in">array</span>[i++];<span class="hljs-keyword">out</span> += String.fromCharCode(((c &amp; <span class="hljs-number">0x0F</span>) &lt;&lt; <span class="hljs-number">12</span>) |((char2 &amp; <span class="hljs-number">0x3F</span>) &lt;&lt; <span class="hljs-number">6</span>) |((char3 &amp; <span class="hljs-number">0x3F</span>) &lt;&lt; <span class="hljs-number">0</span>));<span class="hljs-keyword">break</span>;&#125;&#125;<span class="hljs-keyword">return</span> <span class="hljs-keyword">out</span>;&#125;<span class="hljs-comment">/**</span><span class="hljs-comment"> * utf-8转u8intarray</span><span class="hljs-comment"> * @param str string 字符串</span><span class="hljs-comment"> */</span><span class="hljs-keyword">public</span> static utf8StrToU8Array(str: <span class="hljs-built_in">string</span>):Uint8Array &#123;let pos:number = <span class="hljs-number">0</span>;let codePoints = <span class="hljs-keyword">this</span>.<span class="hljs-built_in">string</span>ToCodePoints(str);let outputBytes = [];<span class="hljs-keyword">while</span> (codePoints.length &gt; pos) &#123;let code_point:number = codePoints[pos++];<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.inRange(code_point, <span class="hljs-number">0xD800</span>, <span class="hljs-number">0xDFFF</span>)) &#123;console.error(<span class="hljs-string">&quot;UTF8 encoderError&quot;</span>,code_point)&#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.inRange(code_point, <span class="hljs-number">0x0000</span>, <span class="hljs-number">0x007f</span>)) &#123;outputBytes.push(code_point);&#125; <span class="hljs-keyword">else</span> &#123;let count = <span class="hljs-number">0</span>, offset = <span class="hljs-number">0</span>;<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.inRange(code_point, <span class="hljs-number">0x0080</span>, <span class="hljs-number">0x07FF</span>)) &#123;count = <span class="hljs-number">1</span>;offset = <span class="hljs-number">0xC0</span>;&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.inRange(code_point, <span class="hljs-number">0x0800</span>, <span class="hljs-number">0xFFFF</span>)) &#123;count = <span class="hljs-number">2</span>;offset = <span class="hljs-number">0xE0</span>;&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.inRange(code_point, <span class="hljs-number">0x10000</span>, <span class="hljs-number">0x10FFFF</span>)) &#123;count = <span class="hljs-number">3</span>;offset = <span class="hljs-number">0xF0</span>;&#125;outputBytes.push(Math.floor(code_point/Math.pow(<span class="hljs-number">64</span>, count)) + offset);<span class="hljs-keyword">while</span> (count &gt; <span class="hljs-number">0</span>) &#123;let temp = Math.floor(code_point/Math.pow(<span class="hljs-number">64</span>, count - <span class="hljs-number">1</span>));outputBytes.push(<span class="hljs-number">0x80</span> + (temp % <span class="hljs-number">64</span>));count -= <span class="hljs-number">1</span>;&#125;&#125;&#125;<span class="hljs-keyword">return</span> new Uint8Array(outputBytes);&#125;&#125;</code></pre><ul><li>参考博文：<a href="http://www.ruanyifeng.com/blog/2008/06/base64.html">Base64笔记</a></li><li>参考博文：<a href="http://blog.chinaunix.net/uid-52437-id-3325514.html">js下，二进制数据（编码utf8编码方式）转换到字符串</a></li><li>参考博文：<a href="https://blog.csdn.net/machinecat5888/article/details/81490930">UTF-8编码规则</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>TypeScript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>TypeScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>几个非常用运算符</title>
    <link href="/2020/10/22/network-programming-note2/"/>
    <url>/2020/10/22/network-programming-note2/</url>
    
    <content type="html"><![CDATA[<p>一些平时不常用到的运算符，但却经常见到的运算符。</p><a id="more"></a><h3 id="二进制转化"><a href="#二进制转化" class="headerlink" title="二进制转化"></a>二进制转化</h3><p style="text-indent:2rem;">以下运算符涉及二进制转化，此处说明一下十进制转换为二进制的方法：除二取余法。（除以2取余数，余数逆序排列.。二进制数一般为32位，不够的往前面添0。）</p><pre><code class="hljs [javascript]">&#x2F;&#x2F;十进制数转换为二进制&#x2F;&#x2F;例子一：5&#x2F;&#x2F;5&#x2F;2 &#x3D; 2 ... 1&#x2F;&#x2F;2&#x2F;2 &#x3D; 1 ... 0&#x2F;&#x2F;1&#x2F;2 &#x3D; 0 ... 1&#x2F;&#x2F;因此，（十进制数）5转化为（二进制数）就是101，二进制数一般为32位，不够的往前面添0。&#x2F;&#x2F;即0000 0000 0000 0000  0000 0000 0000 0101&#x2F;&#x2F;例子二：24&#x2F;&#x2F;24&#x2F;2 &#x3D; 12 ... 0&#x2F;&#x2F;12&#x2F;2 &#x3D; 6  ... 0&#x2F;&#x2F;6&#x2F;2 &#x3D; 3   ... 0&#x2F;&#x2F;3&#x2F;2 &#x3D; 1   ... 1&#x2F;&#x2F;1&#x2F;2 &#x3D; 0   ... 1&#x2F;&#x2F;因此，（十进制数）24转化为（二进制数）就是11000，二进制数一般为32位，不够的往前面添0。&#x2F;&#x2F;即0000 0000 0000 0000  0000 0000 0001 1000&#x2F;&#x2F;例子三：20&#x2F;&#x2F;20&#x2F;2 &#x3D; 10 ... 0&#x2F;&#x2F;10&#x2F;2 &#x3D; 5  ... 0&#x2F;&#x2F;5&#x2F;2 &#x3D; 2   ... 1&#x2F;&#x2F;2&#x2F;2 &#x3D; 1   ... 0&#x2F;&#x2F;1&#x2F;2 &#x3D; 0   ... 1&#x2F;&#x2F;即0000 0000 0000 0000  0000 0000 0001 0100</code></pre><h3 id="“-lt-lt-”运算符"><a href="#“-lt-lt-”运算符" class="headerlink" title="“&lt;&lt;”运算符"></a>“&lt;&lt;”运算符</h3><pre><code class="hljs [javascript]">&#x2F;&#x2F;&quot;&lt;&lt;&quot;运算符：用于对二进制数左移多少位。1 &lt;&lt; 0 &#x2F;&#x2F;结果：11 &lt;&lt; 1 &#x2F;&#x2F;结果：21 &lt;&lt; 2 &#x2F;&#x2F;结果：41 &lt;&lt; 10 &#x2F;&#x2F;结果：10245 &lt;&lt; 10 &#x2F;&#x2F;结果：5120&#x2F;&#x2F;由上可得x &lt;&lt; y 相当于 x * 2^y&#x2F;&#x2F;较为常用的例子：const kb &#x3D; 1 &lt;&lt; 10; &#x2F;&#x2F;1024const mb &#x3D; kb &lt;&lt; 10; &#x2F;&#x2F;1048576const tb &#x3D; mb &lt;&lt; 10; const gb &#x3D; tb &lt;&lt; 10;</code></pre><h3 id="“-amp-”运算符"><a href="#“-amp-”运算符" class="headerlink" title="“&amp;”运算符"></a>“&amp;”运算符</h3><pre><code class="hljs [javascript]">&#x2F;&#x2F;&quot;&amp;&quot;运算符：用于对两个二进制操作数逐位“位与”进行比较。&#x2F;&#x2F;“位与”即1&amp;&amp;1&#x3D;&#x3D;1, 1&amp;&amp;0&#x3D;&#x3D;0, 0&amp;&amp;0&#x3D;&#x3D;0&#x2F;&#x2F;平时我们使用的数字都是十进制数，该方法是对转化后的二进制数进行比较。&#x2F;&#x2F;&quot;&amp;&quot;运算符就是比较二进制中为true的值提取出来，然后逐位计算true或false。24 &amp; 5 &#x2F;&#x2F;结果：0&#x2F;&#x2F;具体规则：逐位进行比较，例如1 &amp;&amp; 0 结果就是 0&#x2F;&#x2F;数值5： 0000 0000 0000 0000  0000 0000 0000 0101&#x2F;&#x2F;数值24：0000 0000 0000 0000  0000 0000 0001 1000&#x2F;&#x2F;结果：  0000 0000 0000 0000  0000 0000 0000 000024 &amp; 20 &#x2F;&#x2F;结果：16&#x2F;&#x2F;数值24：0000 0000 0000 0000  0000 0000 0001 1000&#x2F;&#x2F;数值20：0000 0000 0000 0000  0000 0000 0001 0100&#x2F;&#x2F;结果：  0000 0000 0000 0000  0000 0000 0001 0000</code></pre><h3 id="“-”运算符"><a href="#“-”运算符" class="headerlink" title="“^”运算符"></a>“^”运算符</h3><pre><code class="hljs [javascript]">&#x2F;&#x2F;&quot;^&quot;运算符：用于对两个二进制操作数逐位“位异或”进行比较。&#x2F;&#x2F;“位异或”即1&amp;&amp;0&#x3D;&#x3D;1 1&amp;&amp;1&#x3D;&#x3D;0 0&amp;&amp;0&#x3D;&#x3D;024 &amp; 5 &#x2F;&#x2F;结果：29&#x2F;&#x2F;具体规则：逐位进行比较，例如1 &amp;&amp; 0 结果就是 1&#x2F;&#x2F;数值5： 0000 0000 0000 0000  0000 0000 0000 0101&#x2F;&#x2F;数值24：0000 0000 0000 0000  0000 0000 0001 1000&#x2F;&#x2F;结果：  0000 0000 0000 0000  0000 0000 0001 1101</code></pre><h3 id="“-”运算符-1"><a href="#“-”运算符-1" class="headerlink" title="“|”运算符"></a>“|”运算符</h3><pre><code class="hljs [javascript]">&#x2F;&#x2F;&quot;|&quot;运算符用于对两个二进制操作数逐位进行“位或”比较。&#x2F;&#x2F;“位与”即1||1&#x3D;&#x3D;1, 1||0&#x3D;&#x3D;1, 0||0&#x3D;&#x3D;0&#x2F;&#x2F;其他与&quot;&amp;&quot;运算符相似24 &amp; 5 &#x2F;&#x2F;结果：29&#x2F;&#x2F;具体规则：逐位进行比较，例如1 &amp;&amp; 0 结果就是 1&#x2F;&#x2F;数值5： 0000 0000 0000 0000  0000 0000 0000 0101&#x2F;&#x2F;数值24：0000 0000 0000 0000  0000 0000 0001 1000&#x2F;&#x2F;结果：  0000 0000 0000 0000  0000 0000 0001 1101</code></pre><h3 id="“-”运算符-2"><a href="#“-”运算符-2" class="headerlink" title="“~”运算符"></a>“~”运算符</h3><pre><code class="hljs [javascript]">&#x2F;&#x2F;&quot;~&quot;运算符：简单理解为取负运算，再减去1~24 &#x2F;&#x2F;结果：-25 即：-24-1~10 &#x2F;&#x2F;结果：-11 即：-10-1</code></pre>]]></content>
    
    
    <categories>
      
      <category>网络编程</category>
      
    </categories>
    
    
    <tags>
      
      <tag>网络编程</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>各进制数之间的转换</title>
    <link href="/2020/10/22/network-programming-note1/"/>
    <url>/2020/10/22/network-programming-note1/</url>
    
    <content type="html"><![CDATA[<p>常用的各种进制数之间的转换公式。</p><a id="more"></a><h2 id="其他进制数转换为10进制数"><a href="#其他进制数转换为10进制数" class="headerlink" title="其他进制数转换为10进制数"></a>其他进制数转换为10进制数</h2><p>其他进制数转10进制数算法：从尾巴开始算起，依次乘以对应数值（例如2进制除数就是2,16进制除数就是16）的0~n次方（n值为尾巴算起的第几位-1，这里的尾巴起点仅代表个位数，如果有小数，则从-1次方开始算起）</p><pre><code class="hljs javascript"><span class="hljs-comment">//16进制数：0x07ff</span><span class="hljs-comment">//转化为10进制数的算法：f*16^0 + f*16^1 + 7*16^2 = 2047</span><span class="hljs-comment">//8进制数：52</span><span class="hljs-comment">//转化为10进制数的算法：2*8^0 + 5*8^1 = 42</span><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">otherToVal10</span>(<span class="hljs-params">num, val</span>)</span><span class="hljs-function"></span>&#123;<span class="hljs-keyword">let</span> arr = [];<span class="hljs-keyword">let</span> numStr = num.toString();<span class="hljs-built_in">console</span>.log(numStr)arr = <span class="hljs-built_in">parseInt</span>(num) == num? arr.push(numStr) : arr.concat(numStr.split(<span class="hljs-string">&quot;.&quot;</span>));<span class="hljs-keyword">let</span> squareMax = arr[<span class="hljs-number">0</span>].length - <span class="hljs-number">1</span>;<span class="hljs-keyword">let</span> result = <span class="hljs-number">0</span>;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; arr[<span class="hljs-number">0</span>].length; i++)&#123;result += <span class="hljs-built_in">Number</span>(arr[<span class="hljs-number">0</span>][i]) * <span class="hljs-built_in">Math</span>.pow(jinzhi, squareMax - i);&#125;<span class="hljs-keyword">if</span> (arr.length &gt; <span class="hljs-number">1</span>)&#123;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; arr[<span class="hljs-number">1</span>].length; i++)&#123;result += <span class="hljs-built_in">Number</span>(arr[<span class="hljs-number">1</span>][i]) * <span class="hljs-built_in">Math</span>.pow(jinzhi, <span class="hljs-number">0</span> - <span class="hljs-number">1</span> - i);&#125;&#125;<span class="hljs-keyword">return</span> result;&#125;</code></pre><h2 id="10进制数转换为其他进制数"><a href="#10进制数转换为其他进制数" class="headerlink" title="10进制数转换为其他进制数"></a>10进制数转换为其他进制数</h2><p>10进制数转化为其他进制，只需要除以对应数值（例如2进制除数就是2,16进制除数就是16），记下商和余数；然后用商除以除数，继续记下商和余数；重复以上步骤直到商为0为止。然后余数逆序排列，就是对应要转化的进制数的结果。</p><pre><code class="hljs reasonml"><span class="hljs-comment">//10进制数：100</span><span class="hljs-comment">//转化为2进制数：</span><span class="hljs-comment">/**</span><span class="hljs-comment">* 100 / 2   商：50 余：0</span><span class="hljs-comment">*  50 / 2   商：25 余：0</span><span class="hljs-comment">*  25 / 2   商：12 余：1</span><span class="hljs-comment">*  12 / 2   商： 6 余：0</span><span class="hljs-comment">*   6 / 2   商： 3 余：0</span><span class="hljs-comment">*   3 / 2   商： 1 余：1</span><span class="hljs-comment">*   1 / 2   商： 0 余：1</span><span class="hljs-comment">**/</span><span class="hljs-comment">//结果：1100100</span><span class="hljs-comment">//10进制数：100</span><span class="hljs-comment">//转化为16进制数：</span><span class="hljs-comment">/**</span><span class="hljs-comment">* 100 / 16  商：6 余：4</span><span class="hljs-comment">*   6 / 16  商：0 余：6</span><span class="hljs-comment">**/</span><span class="hljs-comment">//结果：64</span><span class="hljs-keyword">function</span> <span class="hljs-constructor">Val10ToVal(<span class="hljs-params">num</span>, <span class="hljs-params">val</span>)</span>&#123;<span class="hljs-keyword">let</span> result = <span class="hljs-number">0</span>;<span class="hljs-keyword">let</span> remainderArr = <span class="hljs-literal">[]</span>;<span class="hljs-keyword">do</span> &#123;<span class="hljs-keyword">let</span> remainder = num % <span class="hljs-keyword">val</span>;remainderArr.push(remainder);num = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Math</span>.</span></span>floor(num<span class="hljs-operator"> / </span><span class="hljs-keyword">val</span>);&#125;<span class="hljs-keyword">while</span> (num != <span class="hljs-number">0</span>)console.log(remainderArr);remainderArr = remainderArr.reverse<span class="hljs-literal">()</span>;result = <span class="hljs-constructor">Number(<span class="hljs-params">remainderArr</span>.<span class="hljs-params">join</span>(<span class="hljs-string">&quot;&quot;</span>)</span>);return result;&#125;</code></pre>]]></content>
    
    
    <categories>
      
      <category>网络编程</category>
      
    </categories>
    
    
    <tags>
      
      <tag>网络编程</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>TypeScript笔记(一)</title>
    <link href="/2020/08/12/typescript-learn-note01/"/>
    <url>/2020/08/12/typescript-learn-note01/</url>
    
    <content type="html"><![CDATA[<style>    p {        text-indent: 2rem;    }</style><p>interface、implements、extends以及泛型</p><a id="more"></a><h2 id="interface"><a href="#interface" class="headerlink" title="interface"></a>interface</h2><p>interface：接口，其作用与函数有点类似，函数规定了需要传递哪些参数，而接口则是规定某个对象应该拥有哪些属性或方法（只是声明成员方法，不作实现）。</p><pre><code class="hljs angelscript"><span class="hljs-comment">// IBagView 和 IItemView 就是一个接口</span><span class="hljs-keyword">interface</span> <span class="hljs-symbol">IBagView</span> &#123;    time: number;    count?: number; <span class="hljs-comment">//可选参数</span>    update(<span class="hljs-built_in">int</span>erval: number);    <span class="hljs-built_in">ref</span>resh();&#125;<span class="hljs-keyword">interface</span> <span class="hljs-symbol">IItemView</span> &#123;    updateItem(item, args);&#125;</code></pre><h2 id="implements"><a href="#implements" class="headerlink" title="implements"></a>implements</h2><p>implements：实现，实现对应接口的对应方法或者环境变量，可以使用一个或者多个包含能的接口。实现了接口的类必须包含接口的所有成员方法。</p><pre><code class="hljs angelscript"><span class="hljs-keyword">class</span> <span class="hljs-symbol">BagView</span> <span class="hljs-symbol">implements</span> <span class="hljs-symbol">IBagView, <span class="hljs-symbol">IItemView</span></span> &#123;    <span class="hljs-keyword">public</span> time = <span class="hljs-number">0</span>;    <span class="hljs-keyword">public</span> update(<span class="hljs-built_in">int</span>erval, number) &#123;&#125;    <span class="hljs-keyword">public</span> <span class="hljs-built_in">ref</span>resh():<span class="hljs-built_in">void</span>  &#123;&#125;    <span class="hljs-keyword">public</span> updateItem(item: any) &#123;&#125;    <span class="hljs-keyword">public</span> update(item, args) &#123;&#125;&#125;</code></pre><h2 id="extends"><a href="#extends" class="headerlink" title="extends"></a>extends</h2><p>extends：继承，继承的子类可以选择不需要重新定义类的结构及成员方法，如果子类重写了，则对象的方法或者变量会被子类覆盖。</p><pre><code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CommonBagView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BagView</span></span><span class="hljs-class"></span>&#123;    constructor() &#123;        <span class="hljs-keyword">super</span>();    &#125;    public refresh():void  &#123;        <span class="hljs-comment">//会覆盖父级的方法</span>        <span class="hljs-comment">//可以使用super.refresh();进行继承</span>    &#125;&#125;</code></pre><h2 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h2><p>泛型：泛型多被用来创建可重用的组件，一个组件可以支持多种数据类型。</p><h3 id="假如不使用泛型"><a href="#假如不使用泛型" class="headerlink" title="假如不使用泛型"></a>假如不使用泛型</h3><pre><code class="hljs csharp"><span class="hljs-comment">//这种数据类型就规定了必须使用Number类型</span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">getParam</span>(<span class="hljs-params">param: number</span>): number</span> &#123;    <span class="hljs-keyword">return</span> param;&#125;<span class="hljs-comment">//如果使用any，就无法准确知晓它的返回值类型</span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">getParam</span>(<span class="hljs-params">param: any</span>): any</span> &#123;    <span class="hljs-keyword">return</span> param;&#125;</code></pre><h3 id="使用泛型"><a href="#使用泛型" class="headerlink" title="使用泛型"></a>使用泛型</h3><pre><code class="hljs csharp"><span class="hljs-comment">//传入什么类型，返回值就是什么类型</span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">getParam</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params">param: T</span>): T</span> &#123;    <span class="hljs-keyword">return</span> param;&#125;</code></pre><h3 id="泛型约束"><a href="#泛型约束" class="headerlink" title="泛型约束"></a>泛型约束</h3><pre><code class="hljs csharp"><span class="hljs-comment">//配合interface使用可以对泛型进行约束</span><span class="hljs-comment">//当然，被约束的泛型不再适用于任意类型</span><span class="hljs-keyword">interface</span> <span class="hljs-title">IBaseView</span> &#123;    viewName: <span class="hljs-built_in">string</span>;    viewId: number;&#125;<span class="hljs-comment">//getView方法中进行了泛型约束</span><span class="hljs-comment">//那么调用这个方法时必须满足IBaseView的接口条件</span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">getView</span>&lt;<span class="hljs-title">T</span> <span class="hljs-title">extends</span> <span class="hljs-title">IBaseView</span>&gt;(<span class="hljs-params">view: T</span>): T</span> &#123;    <span class="hljs-keyword">return</span> view;&#125;</code></pre>]]></content>
    
    
    <categories>
      
      <category>TypeScript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>TypeScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>努力，是为了遇见更好的自己。</title>
    <link href="/2020/07/23/hello-liuyifeng/"/>
    <url>/2020/07/23/hello-liuyifeng/</url>
    
    <content type="html"><![CDATA[<p><img src="/background/park0001.jpg"></p><p style="text-indent:2rem;">生活依旧在继续，你能做的唯有努力。</p>]]></content>
    
    
    <categories>
      
      <category>我的随笔</category>
      
    </categories>
    
    
    <tags>
      
      <tag>我的随笔</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
